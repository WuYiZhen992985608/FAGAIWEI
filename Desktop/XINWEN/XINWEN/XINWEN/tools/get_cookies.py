# # -*- coding:utf-8 -*-# # __author__ = 'YeYang'# # 创建日期：# # 创建目的：from urllib import requestimport requestsfrom selenium import webdriverfrom selenium.webdriver.chrome.options import Optionsimport timedef get_cookies (url):    chrome_options = webdriver.ChromeOptions()    # chrome_options.add_argument('--headless')  # 使用无头谷歌浏览器模式    chrome_options.add_argument('--disable-gpu')    chrome_options.add_argument('--no-sandbox')    chrome_options.add_experimental_option('excludeSwitches', ['enable-automation'])    chrome_options.add_experimental_option('useAutomationExtension', False)    driver = webdriver.Chrome(chrome_options=chrome_options, executable_path=r'/Users/yemiemie/Deployment/fgw/guojiafagaiwei/tools/chromedriver')    driver.execute_cdp_cmd("Page.addScriptToEvaluateOnNewDocument", {        "source": """        Object.defineProperty(navigator, 'webdriver', {          get: () => undefined        })      """    })    driver.get(url)    time.sleep(2)    # html = driver.page_source    # return html    Cookies =driver.get_cookies()    cookie_dict = {}    for cookie in Cookies:        cookie_dict[cookie['name']] = cookie['value']    return cookie_dictif __name__ == '__main__':    cookie = get_cookies('http://fgw.hubei.gov.cn/fbjd/xxgkml/zcwj/202004/t20200413_2221601.shtml')    # cookies =get_cookies('http://fgw.hubei.gov.cn/fbjd/xxgkml/zcwj/202004/t20200413_2221601.shtml')    url ='http://fgw.hubei.gov.cn/fbjd/xxgkml/zcwj/202004/t20200409_2214837.shtml'    respon =requests.session()    html =respon.get(url,cookies=cookie).content    print(html.decode('utf-8'))    # print(cookies['FSSBBIl1UgzbN7N80S'])    # # print(cookies[0])